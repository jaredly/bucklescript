
    
<!doctype html>
<meta charset=utf8>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel=stylesheet href='../styles.css'>
<script defer src='../script.js'></script>
<title>Arg</title>
<body>
<script>window.relativeToRoot=".."</script>
<script defer src="../block-script.js"></script>
<div id='error-message'>
  ⚠️ Oops! This page doesn't appear to define a <span>type</span> called <code>_</code>.
</div>

    <script>window.shouldCheckHashes=true</script>
    <div class='container'>
    
    <div class='sidebar-wrapper'>
    <div class='sidebar-expander'>Show navigation</div>
    <div class='sidebar'>
      <a href="../search.html" style="display: block; padding: 0 8px;">Search</a>
      <a href="../playground.html" style="display: block; padding: 0 8px;">Playground</a>
      <div class='docs-listing'><a href="../docson/index.html">docson</a>
<a href="../fonts/LICENSE.html">LICENSE</a>
<a href="../index.html">docs</a>
<a href="../slides/Buckle_meetup.html">Buckle_meetup</a>
<a href="../slides/Haskell_meetup.html">Haskell_meetup</a>
<a href="../slides/preview/CONTRIBUTING.html">CONTRIBUTING</a>
<a href="../slides/preview/reveal-js/css/theme/index.html">theme</a>
<a href="../slides/preview/reveal-js/plugin/markdown/example.html">example</a>
<a href="../slides/preview/reveal-js/REVEAL_JS.html">REVEAL_JS</a>
<a href="../slides/preview/Slides/bb-reveal-example/overview.html">overview</a></div>
      <div class='toc-header'>Page Contents</div>
      <div class='table-of-contents'>
      <a href="#type-spec" class='level-0 type'>spec</a>
<a href="#type-key" class='level-0 type'>key</a>
<a href="#type-doc" class='level-0 type'>doc</a>
<a href="#type-usage_msg" class='level-0 type'>usage_msg</a>
<a href="#type-anon_fun" class='level-0 type'>anon_fun</a>
<a href="#value-parse" class='level-0 value'>parse</a>
<a href="#value-parse_dynamic" class='level-0 value'>parse_dynamic</a>
<a href="#value-parse_argv" class='level-0 value'>parse_argv</a>
<a href="#value-parse_argv_dynamic" class='level-0 value'>parse_argv_dynamic</a>
<a href="#value-usage" class='level-0 value'>usage</a>
<a href="#value-usage_string" class='level-0 value'>usage_string</a>
<a href="#value-align" class='level-0 value'>align</a>
<a href="#value-current" class='level-0 value'>current</a>
      </div>
      <div class='project-title'>Package modules</div><div class='project-listing'><a href="Js.html">Js</a>
<a href="Arg.html">Arg</a>
<a href="Array.html">Array</a>
<a href="ArrayLabels.html">ArrayLabels</a>
<a href="Bigarray.html">Bigarray</a>
<a href="Buffer.html">Buffer</a>
<a href="Bytes.html">Bytes</a>
<a href="BytesLabels.html">BytesLabels</a>
<a href="Callback.html">Callback</a>
<a href="CamlinternalFormat.html">CamlinternalFormat</a>
<a href="CamlinternalFormatBasics.html">CamlinternalFormatBasics</a>
<a href="CamlinternalLazy.html">CamlinternalLazy</a>
<a href="CamlinternalMod.html">CamlinternalMod</a>
<a href="CamlinternalOO.html">CamlinternalOO</a>
<a href="Char.html">Char</a>
<a href="Complex.html">Complex</a>
<a href="Digest.html">Digest</a>
<a href="Filename.html">Filename</a>
<a href="Format.html">Format</a>
<a href="Gc.html">Gc</a>
<a href="Genlex.html">Genlex</a>
<a href="Hashtbl.html">Hashtbl</a>
<a href="Int32.html">Int32</a>
<a href="Int64.html">Int64</a>
<a href="Lazy.html">Lazy</a>
<a href="Lexing.html">Lexing</a>
<a href="List.html">List</a>
<a href="ListLabels.html">ListLabels</a>
<a href="Map.html">Map</a>
<a href="Marshal.html">Marshal</a>
<a href="MoreLabels.html">MoreLabels</a>
<a href="Nativeint.html">Nativeint</a>
<a href="Obj.html">Obj</a>
<a href="Oo.html">Oo</a>
<a href="Parsing.html">Parsing</a>
<a href="Pervasives.html">Pervasives</a>
<a href="Printexc.html">Printexc</a>
<a href="Printf.html">Printf</a>
<a href="Queue.html">Queue</a>
<a href="Random.html">Random</a>
<a href="Scanf.html">Scanf</a>
<a href="Set.html">Set</a>
<a href="Sort.html">Sort</a>
<a href="Stack.html">Stack</a>
<a href="Std_exit.html">Std_exit</a>
<a href="StdLabels.html">StdLabels</a>
<a href="Stream.html">Stream</a>
<a href="String.html">String</a>
<a href="StringLabels.html">StringLabels</a>
<a href="Sys.html">Sys</a>
<a href="Unix.html">Unix</a>
<a href="UnixLabels.html">UnixLabels</a>
<a href="Weak.html">Weak</a>
<a href="Belt.html">Belt</a>
<a href="Belt_Array.html">Belt_Array</a>
<a href="Belt_HashMap.html">Belt_HashMap</a>
<a href="Belt_HashMapInt.html">Belt_HashMapInt</a>
<a href="Belt_HashMapString.html">Belt_HashMapString</a>
<a href="Belt_HashSet.html">Belt_HashSet</a>
<a href="Belt_HashSetInt.html">Belt_HashSetInt</a>
<a href="Belt_HashSetString.html">Belt_HashSetString</a>
<a href="Belt_Id.html">Belt_Id</a>
<a href="Belt_internalAVLset.html">Belt_internalAVLset</a>
<a href="Belt_internalAVLtree.html">Belt_internalAVLtree</a>
<a href="Belt_internalBuckets.html">Belt_internalBuckets</a>
<a href="Belt_internalBucketsType.html">Belt_internalBucketsType</a>
<a href="Belt_internalMapInt.html">Belt_internalMapInt</a>
<a href="Belt_internalMapString.html">Belt_internalMapString</a>
<a href="Belt_internalSetBuckets.html">Belt_internalSetBuckets</a>
<a href="Belt_internalSetInt.html">Belt_internalSetInt</a>
<a href="Belt_internalSetString.html">Belt_internalSetString</a>
<a href="Belt_List.html">Belt_List</a>
<a href="Belt_Map.html">Belt_Map</a>
<a href="Belt_MapDict.html">Belt_MapDict</a>
<a href="Belt_MapInt.html">Belt_MapInt</a>
<a href="Belt_MapString.html">Belt_MapString</a>
<a href="Belt_MutableMap.html">Belt_MutableMap</a>
<a href="Belt_MutableMapInt.html">Belt_MutableMapInt</a>
<a href="Belt_MutableMapString.html">Belt_MutableMapString</a>
<a href="Belt_MutableQueue.html">Belt_MutableQueue</a>
<a href="Belt_MutableSet.html">Belt_MutableSet</a>
<a href="Belt_MutableSetInt.html">Belt_MutableSetInt</a>
<a href="Belt_MutableSetString.html">Belt_MutableSetString</a>
<a href="Belt_MutableStack.html">Belt_MutableStack</a>
<a href="Belt_Option.html">Belt_Option</a>
<a href="Belt_Range.html">Belt_Range</a>
<a href="Belt_Set.html">Belt_Set</a>
<a href="Belt_SetDict.html">Belt_SetDict</a>
<a href="Belt_SetInt.html">Belt_SetInt</a>
<a href="Belt_SetString.html">Belt_SetString</a>
<a href="Belt_SortArray.html">Belt_SortArray</a>
<a href="Belt_SortArrayInt.html">Belt_SortArrayInt</a>
<a href="Belt_SortArrayString.html">Belt_SortArrayString</a>
<a href="Dom.html">Dom</a>
<a href="Dom_storage.html">Dom_storage</a>
<a href="Js_array.html">Js_array</a>
<a href="Js_boolean.html">Js_boolean</a>
<a href="Js_cast.html">Js_cast</a>
<a href="Js_console.html">Js_console</a>
<a href="Js_date.html">Js_date</a>
<a href="Js_dict.html">Js_dict</a>
<a href="Js_global.html">Js_global</a>
<a href="Js_json.html">Js_json</a>
<a href="Js_list.html">Js_list</a>
<a href="Js_mapperRt.html">Js_mapperRt</a>
<a href="Js_math.html">Js_math</a>
<a href="Js_null_undefined.html">Js_null_undefined</a>
<a href="Js_obj.html">Js_obj</a>
<a href="Js_option.html">Js_option</a>
<a href="Js_promise.html">Js_promise</a>
<a href="Js_re.html">Js_re</a>
<a href="Js_result.html">Js_result</a>
<a href="Js_string.html">Js_string</a>
<a href="Js_types.html">Js_types</a>
<a href="Js_vector.html">Js_vector</a>
<a href="Node.html">Node</a>
<a href="Node_buffer.html">Node_buffer</a>
<a href="Node_child_process.html">Node_child_process</a>
<a href="Node_fs.html">Node_fs</a>
<a href="Node_module.html">Node_module</a>
<a href="Node_path.html">Node_path</a>
<a href="Node_process.html">Node_process</a></div>
    </div>
    </div>
  
    <div class='main'>
    <a href="https://github.com/bucklescript/bucklescript/blob/master/jscomp/stdlib/arg.ml" class="edit-link">Edit</a>
    <p>Parsing of command line arguments.</p>
<p>This module provides a general mechanism for extracting options and arguments from the command line to the program.</p>
<p>Syntax of command lines: A keyword is a character string starting with a <code>-</code>. An option is a keyword alone or followed by an argument. The types of keywords are: <code>Unit</code>, <code>Bool</code>, <code>Set</code>, <code>Clear</code>, <code>String</code>, <code>Set_string</code>, <code>Int</code>, <code>Set_int</code>, <code>Float</code>, <code>Set_float</code>, <code>Tuple</code>, <code>Symbol</code>, and <code>Rest</code>. <code>Unit</code>, <code>Set</code> and <code>Clear</code> keywords take no argument. A <code>Rest</code> keyword takes the remaining of the command line as arguments. Every other keyword takes the following word on the command line as argument. Arguments not preceded by a keyword are called anonymous arguments.</p>
<p>Examples (<code>cmd</code> is assumed to be the command name):</p>
<ul><li><p><code>cmd -flag           </code>(a unit option)</p>
</li><li><p><code>cmd -int 1          </code>(an int option with argument <code>1</code>)</p>
</li><li><p><code>cmd -string foobar  </code>(a string option with argument <code>&quot;foobar&quot;</code>)</p>
</li><li><p><code>cmd -float 12.34    </code>(a float option with argument <code>12.34</code>)</p>
</li><li><p><code>cmd a b c           </code>(three anonymous arguments: <code>&quot;a&quot;</code>, <code>&quot;b&quot;</code>, and <code>&quot;c&quot;</code>)</p>
</li><li><p><code>cmd a b -- c d      </code>(two anonymous arguments and a rest option with two arguments)</p>
</li></ul><p>other items defined</p><div class='doc-item'><h4 class='item'>type <a href="#type-spec" id="type-spec">spec</a> = 
  | Unit(unit => unit)
  | Bool(bool => unit)
  | Set(<a href="Pervasives.html#type-ref" title="Pervasives.ref">ref</a>(bool))
  | Clear(<a href="Pervasives.html#type-ref" title="Pervasives.ref">ref</a>(bool))
  | String(string => unit)
  | Set_string(<a href="Pervasives.html#type-ref" title="Pervasives.ref">ref</a>(string))
  | Int(int => unit)
  | Set_int(<a href="Pervasives.html#type-ref" title="Pervasives.ref">ref</a>(int))
  | Float(float => unit)
  | Set_float(<a href="Pervasives.html#type-ref" title="Pervasives.ref">ref</a>(float))
  | Tuple(list(<a href="#type-spec">spec</a>))
  | Symbol(list(string), string => unit)
  | Rest(string => unit)</h4>

<div class='body '><p>The concrete type describing the behavior associated with a keyword.</p>
</div></div>

<div class='doc-item'><h4 class='item'>type <a href="#type-key" id="type-key">key</a> = string</h4>

<div class='body body-empty'></div></div>

<div class='doc-item'><h4 class='item'>type <a href="#type-doc" id="type-doc">doc</a> = string</h4>

<div class='body body-empty'></div></div>

<div class='doc-item'><h4 class='item'>type <a href="#type-usage_msg" id="type-usage_msg">usage_msg</a> = string</h4>

<div class='body body-empty'></div></div>

<div class='doc-item'><h4 class='item'>type <a href="#type-anon_fun" id="type-anon_fun">anon_fun</a> = string => unit</h4>

<div class='body body-empty'></div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-parse" id="value-parse">parse</a>: (
  list((<a href="#type-key">key</a>, <a href="#type-spec">spec</a>, <a href="#type-doc">doc</a>)),
  <a href="#type-anon_fun">anon_fun</a>,
  <a href="#type-usage_msg">usage_msg</a>
) => unit</h4>

<div class='body '><p><code>Arg.parse speclist anon_fun usage_msg</code> parses the command line. <code>speclist</code> is a list of triples <code>(key, spec, doc)</code>. <code>key</code> is the option keyword, it must start with a <code>&#39;-&#39;</code> character. <code>spec</code> gives the option type and the function to call when this option is found on the command line. <code>doc</code> is a one-line description of this option. <code>anon_fun</code> is called on anonymous arguments. The functions in <code>spec</code> and <code>anon_fun</code> are called in the same order as their arguments appear on the command line.</p>
<p>If an error occurs, <code>Arg.parse</code> exits the program, after printing to standard error an error message as follows:</p>
<ul><li><p>The reason for the error: unknown option, invalid or missing argument, etc.</p>
</li><li><p><code>usage_msg</code></p>
</li><li><p>The list of options, each followed by the corresponding <code>doc</code> string. Beware: options that have an empty <code>doc</code> string will not be included in the list.</p>
</li></ul><p>For the user to be able to specify anonymous arguments starting with a <code>-</code>, include for example <code>(&quot;-&quot;, String anon_fun, doc)</code> in <code>speclist</code>.</p>
<p>By default, <code>parse</code> recognizes two unit options, <code>-help</code> and <code>--help</code>, which will print to standard output <code>usage_msg</code> and the list of options, and exit the program. You can override this behaviour by specifying your own <code>-help</code> and <code>--help</code> options in <code>speclist</code>.</p>
</div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-parse_dynamic" id="value-parse_dynamic">parse_dynamic</a>: (
  <a href="Pervasives.html#type-ref" title="Pervasives.ref">ref</a>(list((<a href="#type-key">key</a>, <a href="#type-spec">spec</a>, <a href="#type-doc">doc</a>))),
  <a href="#type-anon_fun">anon_fun</a>,
  <a href="#type-usage_msg">usage_msg</a>
) => unit</h4>

<div class='body '><p>Same as parse, except that the <code>speclist</code> argument is a reference and may be updated during the parsing. A typical use for this feature is to parse command lines of the form:</p>
<ul><li><p>command subcommand <code>options</code> where the list of options depends on the value of the subcommand argument.</p>
</li></ul></div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-parse_argv" id="value-parse_argv">parse_argv</a>: (
  ~?current: option(<a href="Pervasives.html#type-ref" title="Pervasives.ref">ref</a>(int)),
  array(string),
  list((<a href="#type-key">key</a>, <a href="#type-spec">spec</a>, <a href="#type-doc">doc</a>)),
  <a href="#type-anon_fun">anon_fun</a>,
  <a href="#type-usage_msg">usage_msg</a>
) => unit</h4>

<div class='body '><p><code>Arg.parse_argv ~current args speclist anon_fun usage_msg</code> parses the array <code>args</code> as if it were the command line. It uses and updates the value of <code>~current</code> (if given), or <code>Arg.current</code>. You must set it before calling <code>parse_argv</code>. The initial value of <code>current</code> is the index of the program name (argument 0) in the array. If an error occurs, <code>Arg.parse_argv</code> raises <code>Arg.Bad</code> with the error message as argument. If option <code>-help</code> or <code>--help</code> is given, <code>Arg.parse_argv</code> raises <code>Arg.Help</code> with the help message as argument.</p>
</div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-parse_argv_dynamic" id="value-parse_argv_dynamic">parse_argv_dynamic</a>: (
  ~?current: option(<a href="Pervasives.html#type-ref" title="Pervasives.ref">ref</a>(int)),
  array(string),
  <a href="Pervasives.html#type-ref" title="Pervasives.ref">ref</a>(list((<a href="#type-key">key</a>, <a href="#type-spec">spec</a>, <a href="#type-doc">doc</a>))),
  <a href="#type-anon_fun">anon_fun</a>,
  string
) => unit</h4>

<div class='body '><p>Same as parse_argv, except that the <code>speclist</code> argument is a reference and may be updated during the parsing. See parse_dynamic.</p>
</div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-usage" id="value-usage">usage</a>: (list((<a href="#type-key">key</a>, <a href="#type-spec">spec</a>, <a href="#type-doc">doc</a>)), <a href="#type-usage_msg">usage_msg</a>) => unit</h4>

<div class='body '><p><code>Arg.usage speclist usage_msg</code> prints to standard error an error message that includes the list of valid options. This is the same message that parse prints in case of error. <code>speclist</code> and <code>usage_msg</code> are the same as for <code>Arg.parse</code>.</p>
</div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-usage_string" id="value-usage_string">usage_string</a>: (
  list((<a href="#type-key">key</a>, <a href="#type-spec">spec</a>, <a href="#type-doc">doc</a>)),
  <a href="#type-usage_msg">usage_msg</a>
) => string</h4>

<div class='body '><p>Returns the message that would have been printed by usage, if provided with the same parameters.</p>
</div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-align" id="value-align">align</a>: (
  ~?limit: option(int),
  list((<a href="#type-key">key</a>, <a href="#type-spec">spec</a>, <a href="#type-doc">doc</a>))
) => list((<a href="#type-key">key</a>, <a href="#type-spec">spec</a>, <a href="#type-doc">doc</a>))</h4>

<div class='body body-empty'></div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-current" id="value-current">current</a>: <a href="Pervasives.html#type-ref" title="Pervasives.ref">ref</a>(int)</h4>

<div class='body '><p>Position (in argv) of the argument being processed. You can change this value, e.g. to force parse to skip some arguments. parse uses the initial value of current as the index of argument 0 (the program name) and starts parsing arguments at the next element.</p>
</div></div>
    </div>
    <div class='right-blank'></div>
    </div>
  